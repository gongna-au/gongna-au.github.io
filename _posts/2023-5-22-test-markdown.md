---
layout: post
title:  判定覆盖和条件覆盖的区别
subtitle:
tags: [软件测试]
comments: true
---
## 1.测试方法
```go
if (x > 0) {
    // 正数分支
} else if (x == 0) {
    // 零分支
} else {
    // 负数分支
}
```

```go
switch (dayOfWeek) {
    case 1:
        // 星期一
        break;
    case 2:
        // 星期二
        break;
    case 3:
        // 星期三
        break;
    // ...
    default:
        // 未知的星期
        break;
}
```


### 判定覆盖（Decision Coverage）

判定覆盖要求测试用例覆盖所有可能的分支。对于给定的 switch 语句和 if-else 语句，我们需要确保每个 case 和每个条件分支都至少执行一次。

```java
dayOfWeek = 1，覆盖了 "星期一" 分支
dayOfWeek = 2，覆盖了 "星期二" 分支
dayOfWeek = 3，覆盖了 "星期三" 分支
dayOfWeek 为其他有效值（如 4、5、6、7），覆盖其他 "星期" 分支（已省略）
dayOfWeek 为无效值（如 0、8 或 -1），覆盖 "未知的星期" 分支
```

以下是针对 if-else 语句的测试用例：
```java
x > 0，覆盖了 "正数分支"
x == 0，覆盖了 "零分支"
x < 0，覆盖了 "负数分支"
```

### 条件覆盖

条件覆盖要求测试用例覆盖所有可能的条件结果，即条件为真和条件为假的情况。对于给定的 switch 语句和 if-else 语句，我们需要考虑所有可能的条件结果。

对于 switch 语句，条件覆盖和判定覆盖的设计是相同的，因为 switch 语句的每个 case 都是一个独立的条件。

对于 if-else 语句，以下是针对条件覆盖的测试用例：
```java
x > 0 为真，覆盖了 "正数分支"
x > 0 为假，但 x == 0 为真，覆盖了 "零分支"
x > 0 为假，且 x == 0 为假，覆盖了 "负数分支"
```

### 设计测试用例？


#### 判定分支的测试用例设计
针对每个 case 子句，至少设计一个测试用例，使得程序能够执行该分支中的代码块。对于多个判定条件的情况，需要设计多个测试用例，以覆盖所有可能的情况。例如，在上面的代码中，可以设计以下测试用例：
```java
dayOfWeek 的值为 1：覆盖第一个判定分支。
dayOfWeek 的值为 2：覆盖第二个判定分支。
dayOfWeek 的值为 3：覆盖第三个判定分支。
dayOfWeek 的值为负数：覆盖默认分支。
```


#### 条件分支的测试用例设计

针对每个 case 子句中的条件表达式，至少设计一个测试用例，使得程序能够执行该分支中的代码块。对于**多个条件表达式**的情况，需要设计多个测试用例，以覆盖所有可能的条件取值。



```go
if (x > 0) {
    // 正数分支
} else if (x == 0) || (y==0) {
    // 零分支
} else {
    // 负数分支
}
```

条件覆盖测试，需要针对每个条件表达式的取值至少设计一个测试用例，以覆盖所有可能的情况。对于 (x == 0) || (y==0) 这个整体条件表达式，我们需要分别测试其为真和为假的情况，因此需要设计两个测试用例。具体来说，可以设计以下测试用例：

```java
x 的值为 1，y 的值为 0：覆盖正数分支，以及 (x == 0) || (y==0) 为假的情况。
x 的值为 0，y 的值为 1：覆盖零分支，以及 (x == 0) || (y==0) 为真的情况。
x 的值为 -1，y 的值为 0：覆盖负数分支，以及 (x == 0) || (y==0) 为假的情况。
x 的值为 0，y 的值为 0：覆盖零分支，以及 (x == 0) || (y==0) 为真的情况。
```

分支覆盖测试中，我们只需要设计一个测试用例，覆盖整体条件表达式为真和为假的情况，以保证所有分支都至少被执行一次。具体来说，可以设计以下测试用例：
```java
x 的值为 1，y 的值为 0：覆盖正数分支，以及整体条件表达式为真的情况。
x 的值为 -1，y 的值为 0：覆盖负数分支，以及整体条件表达式为假的情况。
```

