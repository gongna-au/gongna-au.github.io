---
layout: post
title: 软件测试与质量保证
subtitle:
tags: [软件工程]
comments: true
---

## 软件测试概述

1.软件测试产生的背景和基本概念

软件中缺陷产生的原因：

人在软件的设计阶段所犯的错误是导致软件失效的主要原因
软件复杂性是产生软件缺陷的极其重要的根源

控制错误的方法：

预防错误
规范化
CMM、UML
文档化
迭代与软件体系结构
查找和纠正错误
软件测试
编程调试

2.软件测试与调试的区别

测试（testing）的目的与任务
目的：发现程序的错误
成功的测试：发现了未曾发现的错误
任务：通过执行程序，暴露潜在的错误

调试（debugging）的目的与任务
目的：定位和纠正错误
任务：消除软件故障，保证程序的可靠运

3.软件测试的基本思想

- 软件开发与软件测试
- 软件测试技术概览
- 持续的软件测试
- 软件测试的原则与经验

4.软件测试用例：

所谓测试用例是为特定的目的而设计的一组测试输入、执行条件和预期的结果；测试用例是执行测试的最小实体


测试步骤：测试步骤详细规定了如何设置、执行、评估特定的测试用例。

5.软件测试的对象

软件测试不等于程序测试
软件测试贯穿于软件定义和开发的整个期间
需求分析,概要设计,详细设计,以及程序编码等各个阶段所得到的文档,包括需求规格说明,概要设计规格说明,详细设计规格说明以及源程序,都是软件测试的对象

6.软件测试衡量标准

多
能够找到尽可能多的、以至于所有的BUG
快
能够尽可能早地发现最严重的BUG
好
找到的BUG是关键的、用户最关心的
找到BUG后，能够重现找到的BUG，并为修正BUG提供尽可能多的信息
省
能够用最少的时间、人力和资源发现BUG
测试的过程和数据可以重用

7.软件产品的组成

客户需求
产品说明
设计文档：
- 结构文档。描述软件整体设计的文档，包括软件所有主要部分的描述以及相互之间的交互方式。
- 数据流图。表示数据在程序中如何流动的正规示意图。通常由圆圈和线条组成，所以也称为泡泡图。
- 状态转换图。将软件分解为基本状态或者条件的另一种正规示意图，表示不同状态间转换的方式。
- 流程图。用图形描述程序逻辑的传统方式。流程图现在不流行了，但是一旦投入使用，根据详细的流程图编写代码是很简单的。
- 代码注释。有一个老说法：你写一次代码，至少被别人看10次。在软件代码中嵌入有用的注释是极为重要的，这样便于维护代码的程序员轻松掌握代码的内容和执行方式。

8.软件生命周期
软件产品从形成概念开始-开发-使用-维护-退役

9.软件开发
软件开发主要由概要设计、详细设计、编程调试、单元测试、组装测试、系统测试和验收测试等阶段组成。

10.软件测试过程V模型

Ｖ模型反映了测试活动与分析设计活动的关系。图中，从左到右描述了基本的开发过程和测试行为，非常明确的标注了测试过程中存在的不同类型的测试，并且清楚的描述了这些测试阶段和开发过程期间各阶段的对应关系。
V模型指出，单元和集成测试应检测程序的执行是否满足软件设计的要求；系统测试应检测系统功能、性能的质量特性是否达到系统要求的指标；验收测试确定软件的实现是否满足用户需要或合同的要求。
局限性：仅把测试作为在编码之后的一个阶段，是针对程序进行的寻找错误的活动，而忽视了测试活动对需求分析、系统设计等活动的验证和确认的功能

11.软件测试过程W模型

相对于V模型，W模型增加了软件各开发阶段中应同步进行的验证和确认活动。W模型由两个V字型模型组成，分别代表测试与开发过程，图中明确表示出了测试与开发的并行关系。
W模型强调：测试伴随着整个软件开发周期，而且测试的对象不仅仅是程序，需求、设计等同样要测试，也就是说，测试与开发是同步进行的。W模型有利于尽早地全面的发现问题。例如，需求分析完成后，测试人员就应该参与到对需求的验证和确认活动中，以尽早地找出缺陷所在。同时，对需求的测试也有利于及时了解项目难度和测试风险，及早制定应对措施，这将显著减少总体测试时间，加快项目进度。
局限性：在W模型中，需求、设计、编码等活动被视为串行的，同时，测试和开发活动也保持着一种线性的前后关系，上一阶段完全结束，才可正式开始下一个阶段工作。

12.软件测试的四个阶段
单元测试、集成测试、系统测试、验收测试。是“从小到大”、“由内至外”、“循序渐进”的测试过程，体现了“分而治之”的思想。 

- 单元测试的粒度最小，主要测试单元是否符合“设计”，检验每个软件单元能否正确地实现其功能满足其性能和接口要求。 
- 集成测试界于单元测试和系统测试之间，起到“桥梁作用”，将经过单元测试的模块逐步进行组装和测试, 检测系统是否达到需求对业务流程及数据流的处理是否符合标准，检测系统对业务流处理是否存在逻辑不严谨及错误。
-  系统测试的粒度最大，主要测试系统是否符合“需求规格说明书”，是否按软件需求规格说明中确定的软件功能、性能、约束及限制等技术要求进行工作。
- 验收测试与系统测试非常相似，主要区别是测试人员不同，验收测试由用户执行。

13.测试的信息流

测试过程中需要三类输入：
- 软件配置：包括软件需求规格说明、软件设计规格说明、源代码等；
- 测试配置：包括测试计划、测试用例、测试驱动程序等。实际上，在整个软件工程过程中，测试配置只是软件配置的一个子集。
- 测试工具：为提高软件测试效率，可使用测试工具支持测试。例如：测试数据自动生成程序、测试结果分析程序等

测试结果分析：比较实测结果与预期结果，评价错误是否发生
排错(调试)：对已经发现的错误进行错误定位和确定出错性质，并改正这些错误，同时修改相关的文档

14.测试的种类

名称	   说明
黑盒测试:	基于软件需求，而不是基于软件内部设计和程序实现的测试方式。**功能性测试**
白盒测试:	基于软件内部设计和程序实现的测试方式。**结构性测试**
单元测试:	主要测试软件模块的源代码。一般由开发人员而非独立测试人员来执行，因为测试者需要懂得该单元的设计与程序实现，测试者可能需要编写另外的驱动程序(driver)和桩(stub)。
集成测试:	将一些“构件”集成一起时，测试它们能否正常运行。这里“构件”可以是程序模块、客户机－服务器程序等等。
功能测试:	测试软件的功能是否符合功能性需求，通常采用黑盒测试方式。一般由独立测试人员执行。
系统测试:	测试软件系统是否符合所有需求，包括功能性需求与非功能性需求。一般由独立测试人员执行，通常采用黑盒测试方式。
回归测试:	指错误被修正之后或软件功能、环境发生变化后全部或部分地重复以前做过的测试。回归测试的困难在于不好确定哪些内容应当被重新测试。
验收测试:	由客户或最终用户执行，测试软件系统是否符合用户需求。
可靠性测试:	也称稳定性测试，连续运行被测系统，检查系统运行时的稳定程度
安全性测试:	测试系统对非法侵入的防范能力。对程序的危险防止和危险处理进行的测试，以验证其是否有效。测试人员扮演非法入侵者
容错性测试/健壮性测试:	检查系统的容错能力，软件在异常条件下自身是否具有防护性的措施或者某种灾难性恢复的手段。测试人员扮演对产品操作一点也不懂的客户，在进行任意操作。 
比较测试:	通过与同类产品比较，考察该系统的优点、缺点。
Alpha 测试:	一种先期的用户测试，此时系统刚刚开发完成。
Beta测试:	一种后期的用户测试，此时系统已经通过内部测试，大部分错误已经改正，即将正式发行。


- 按照软件测试是否执行程序而论，软件测试可以分为静态测试和动态测试；
静态测试：对软件进行分析、检查和审阅，不实际运行被测试的软件。静态测试约可找出30～70%的逻辑设计错误。
动态测试：通过运行软件来检验软件的动态行为和运行结果的正确性。两个基本要素：被测试程序，测试数据（测试用例）。内容
：生成测试用例，运行程序，验证程序的运行结果

- 按照软件测试用例的设计方法而论，软件测试可分为白盒测试法和黑盒测试法；

- 按照软件设计方法是否采用面向对象设计技术而论，软件测试又可以分为传统测试方法和面向对象测试方法；
其它特定环境及应用的测试

15.什么是测试用例？

一个测试用例就是一个文档，其目的是确定应用程序的某个特性是否正常的工作。
一个测试用例应当有完整的信息，如：测试用例ID号，测试用例名字，测试用例的目的，测试条件、输入数据需求、步骤和期望结果。

```text
测试用例ID：
目的：
前提：
输入：
预期输出：
后果：
执行历史：
示例：
“用户名”	“口令”	“预期结果”	说明
“user10”	“pass10”	进入系统	正确的用户名和口令(6位)
“user789”	“pass789”	进入系统	正确的用户名和口令(7-9位)
```

16.黑盒测试
黑盒测试：功能性测试，数据驱动测试。是在已知软件产品具有何种功能的前提下，用来检验每个功能是否能够正常使用,需求是否满足的一个测试方法，在软件开发后期进行。把程序看成是一个不能打开的黑盒子，在不考虑程序内部结构的情况下，测试人员用操作接口的方式进行测试，检查程序能否按照需求指定的功能接收输入数据产生正确的结果。

黑盒测试的用例设计方法：

- 边界值分析

假设你正在测试一个电子商务网站的注册页面。该页面要求用户提供他们的年龄。最小允许年龄为18岁，最大允许年龄为100岁。请列出边界测试用例，以确保页面正确地处理这些边缘情况。

```text
测试情况	输入	预期输出
最小允许年龄	18	成功注册
低于最小允许年龄	17	收到错误消息“您必须年满18岁才能注册。”
最大允许年龄	100	成功注册
超过最大允许年龄	101	收到错误消息“抱歉，您的年龄不能超过100岁。”
边界条件内的值	50	成功注册
负数	-10	收到错误消息“年龄必须为正整数。”
非数字	abc	收到错误消息“请输入有效的年龄。”
```

- 等价类划分
```
序号  功能项 有效等价类     编号   无效等价类       编号
1     a+b   0< 取值 > 99  1    取值<0 ,取值>100  1,3
```

- 基于决策表的测试

```
规则
C1：a,b,c构成三角形    Y
C2：a==b             Y
C3：a==c             Y
C4：b==c             Y

A1:非三角形
A2:不规则三角形
A3:等腰三角形
A4:等边三角形          Y
A4:不符合逻辑

```

- 因果图
E（互斥/异或）：表示a，b两原因不会同时成立，最多一个能成立
I（包含）：a、b、c三个原因中至少有一个必须成立
O（唯一）：a、b当中必须有一个，且仅有一个成立
R（要求）：当a出现时，b必须也出现，不可能a出现b不出现；
M（强制或屏蔽）：结果a是1时，结果b必须是0；结果a是0时，结果b的值不定；

1-分析需求，列出原因和结果
```text
原因                  结果
C1:第一个字符是#         E1：给出提示信息N
C2:第一个字符是*         E2：修改文件
C3:第二个字符是数字       E3：输出信息M

```
2-找出因果关系，原因与原因之间的约束关系，画出因果图。
3-将因果图转化为决策表
```
条件：               
C1:     1   
C2:     1 
C3:     1  
动作：
E1：
E2：
E3：
不可能   ✅
```

- 正交实验设计
- 状态测试
  
黑盒测试的优点有：
1）比较简单，不需要了解程序内部的代码及实现；
2）与软件的内部实现无关；
3）从用户角度出发，能很容易的知道用户会用到哪些功能，会遇到哪些问题；
4）基于软件开发文档，所以也能知道软件实现了文档中的哪些功能；
5）在做软件自动化测试时较为方便。

黑盒测试的缺点有：
1）不可能覆盖所有的代码，覆盖率较低，大概只能达到总代码量的30%；
2）自动化测试的复用性较低

17.白盒测试

结构测试，逻辑驱动测试
前提：知道软件产品内部工作过程。
目标：通过测试来检测软件产品内部动作是否按照规格说明书的规定正常进行。
重点：从程序的控制结构导出测试用例。按照软件内部的结构测试程序，软件中的每条通路是否都能按预定要求正确工作。
在软件开发早期（即编码阶段）执行。
白盒子测试的方法：
1-控制流测试：
语句覆盖：每一个语句至少被执行一次
分支覆盖：每个分支至少被执行一次
路径覆盖：所有可能路径。

2-数据流测试
数据流测试：基于数据流图，设计测试用例以覆盖数据流图上的各个路径
定义覆盖：要确保测试用例能够访问并涉及到程序所有变量的定义
引用覆盖：覆盖程序中使用变量的所有引用
定义-引用覆盖：变量的定义，所有引用


18.测试阶段与测试技术对应表


测试阶段 	主要依据 	测试技术 	主要测试内容 
单元测试	详细设计文档	白盒测试 	接口测试、路径测试 
集成测试	概要设计文档，需求文档	白盒测试，黑盒测试 	接口测试、路径测试，功能测试、性能测试 
系统测试	需求文档	黑盒测试 	功能测试、性能测试、用户界面测试、安全性测试、压力测试、可靠性测试、安装/反安装测试 
验收测试	需求文档，验收标准	黑盒测试 

20.完整的软件测试工作应该贯穿整个软件生命周期

- 开发的不同阶段都有软件测试工作
- 软件测试工作的各个步骤分散在整个软件生命周期中。


## Part-2 静态测试

1.静态测试

通过检查和评审软件而不是运行软件对软件进行测试的方法。静态测试可以手工进行，也可以借助软件工具自动进行
测试对象：与软件相关的需要测试的产物，如各类文档、源代码等



2.代码审查/代码走查

代码审查(Code Inspection)：1.代码审查准备阶段：在此阶段，主要是为了检查和评估程序源代码做好准备。2.程序阅读：在此阶段，参与者需要对代码进行全面和仔细的阅读，以便能够理解代码的结构、功能和实现方式。3.审查会：在此阶段，参与者将汇集在一起，讨论代码审查的结果，并确定必要的更改和修改。4.跟踪及报告：在此阶段，参与者需要跟踪问题并持续地监控实施中的修复。

代码走查(Walkthrough)：代码走查以小组方式进行

3.需求定义的静态测试
4.设计文档的静态测试
5.源代码的静态测试

## Part-3 边界值测试

1.功能性测试的主流方法

- 边界值分析：基本边界值分析、健壮性测试、最坏情况测试、健壮最坏情况测试 
- 等价类划分 ：弱一般、强一般、弱健壮、强健壮
- 判定表
- 因果图

2.边界值分析/健壮性测试/最坏情况测试/健壮最坏情况测试/特殊值测试/举例/随机测试/边界值测试的方针

边界值分析：最小值、略高于最小值、正常值、略低于最大值和最大值
如果有一个变量个数为n的函数，使除一个以外的所有变量取正常值，使剩余的那个变量取最小值、略高于最小值、正常值、略低于最大值和最大值，对每个变量都重复进行。对于一个变量个数为n的函数，边界值分析会产生4n+1个测试用例

3.次日程序的问题描述-边界值分析
次日问题是一个有三个变量表的函数：月，日，年。函数返回输入日期后面的那个日期。变量月，日，年，都具有整数值，且满足以下条件。C1: 1<= month <= 12.C2:1<=day<= 31.C3:1812<=year<= 2012 通过变量的取值范围对基本边界值分析方法进行归纳。对于次日函数，有月，天，年对应的变量，采用类FORTRAN语言（例如PASCAL 或者Ada可以吧变量Month定义为枚举类型1月，2月，12月）不管什么语言，最小值，略高最小值，正常值，略低最大值和最大值更具上下文可以确定。

最小值：对于月、日和年都取其最小值。因此，输入为 1/1/1812。

略高于最小值：对于月和日取其最小值，年取略高于最小值。例如，输入为 1/1/1813。

正常值：使用一个正常的并且可以实际出现的日期作为输入。例如，7/15/2000。

略低于最大值：对于月和日取其最大值，年取略低于最大值。例如，输入为 12/31/2011。

最大值：对于月、日和年都取其最大值。因此，输入为 12/31/2012。

边界值分析的局限性：
假定N个变量是相互独立的，没有考虑这些变量之间的相互依赖关系


3.健壮性测试的基本思想

是边界值分析的一种简单扩展，除了使用五个边界值分析取值，还要通过采用一个略超过最大值（max+）的取值，以及一个略小于最小值（min-）的取值
```
例如 a∈[1,5], b∈[6,10]
则 a的取值：0,1,2,3,4,5,6  
b的取值：5,6,7,8,9,10,11
(a,b)的取值: (3,5), (3,6), (3,7), (3,8), (3,9), (3,10), (3,11), (0,8), (1,8), (2,8), (3,8), (4,8), (5,8), (6,8)
```

4.一个变量个数为n的函数的健壮性测试会产生多少个测试用例？
6n+1

5.一个变量个数为n的函数的边界值分析测试会产生多少个测试用例？
4n+1

6.最坏情况测试的基本思想

边界值测试分析采用了可靠性理论的单缺陷假设。最坏情况测试拒绝这种假设，关心当多个变量取极值时会出现什么情况。

对每一个变量，分别确定一个包含最小值、略高于最小值、正常值、略低于最大值、最大值这五个元素的集合，然后对这些集合进行笛卡尔积计算，以获得测试用例
X1的取值：x1min, x1min+, x1nom, x1max-, x1max
X2的取值：x2min, x2min+, x2nom, x2max-, x2max

```
例如 a∈[1,5], b∈[6,10]
则 a的取值：1,2,3,4,5
b的取值：6,7,8,9,10
(a,b)的取值: 
(1,6), (1,7), (1,8), (1,9), (1,10)
(2,6), (2,7), (2,8), (2,9), (2,10)
(3,6), (3,7), (3,8), (3,9), (3,10)
(4,6), (4,7), (4,8), (4,9), (4,10)
(5,6), (5,7), (5,8), (5,9), (5,10)

```
一个变量个数为n的函数的最坏情况测试会产生5n个测试用例


7.一个变量个数为n的函数的最坏情况测试测试会产生多少个测试用例？
5的N次方

8.最坏情况测试与基本边界值分析方法的比较

基本边界值分析测试用例是最坏情况测试用例的真子集 。

9.健壮最坏情况测试

对每一个变量，分别确定一个包含最小值、略高于最小值、正常值、略低于最大值、最大值，以及一个略超过最大值的取值，和一个略小于最小值的取值 这样七个元素的集合，然后对这些集合进行笛卡尔积计算，以生成测试用例

```
例如 a∈[1,5], b∈[6,10]
则 a的取值：0,1,2,3,4,5,6  
b的取值：5,6,7,8,9,10,11
(a,b)的取值:
(0,5),(0,6), (0,7), (0,8), (0,9), (0,10), (0,11)
(1,5),(1,6), (1,7), (1,8), (1,9), (1,10), (1,11)
(2,5),(2,6), (2,7), (2,8), (2,9), (2,10), (2,11)
(3,5),(3,6), (3,7), (3,8), (3,9), (3,10), (3,11)
(4,5),(4,6), (4,7), (4,8), (4,9), (4,10), (4,11)
(5,5),(5,6), (5,7), (5,8), (5,9), (5,10), (5,11)
(6,5),(6,6), (6,7), (6,8), (6,9), (6,10), (6,11)
```

10.一个变量个数为n的函数的健壮最坏情况测试会产生多少个测试用例？
7的N次方

11.特殊值测试
边界值分析假定N个变量是相互独立的，没有考虑这些变量之间的相互依赖关系
次日的边界值分析测试用例是不充分的
没有强调2月和闰年
月、日和年变量之间存在着依赖关系
特殊值测试使用领域知识、使用类似程序的经验开发测试用例的特殊值
设计多个测试用例会涉及2月28日、2月29日和闰年

12.三角形问题边界值分析测试用例

```
问题描述：我们可以设三角形的3条边分别为A、B、C。如果它们能够构成三角形的3条边，必须满足：
A>0，B>0，C>0，且A+B>C，B+C>A，A+C>B。
如果是等腰的，还要判断A=B，或B=C，或A=C。
如果是等边的，则需判断是否A=B，且B=C，且A=C
假定每条边的取值范围是[1，200]
每条边的取值 
1, 2, 100, 199, 200 
```
```c++
#include <iostream>
#include <cmath>

using namespace std;

int main()
{
    double a, b, c;
    cout << "Please input three numbers between 1 and 200: ";
    cin >> a >> b >> c;
    if (a < 1 || a > 200 || b < 1 || b > 200 || c < 1 || c > 200) {
        cout << "Error: The input numbers are out of range." << endl;
        return -1;
    }
    if (!(a + b > c && a + c > b && b + c > a)) {
        cout << "Cannot form a triangle." << endl;
        return 0;
    }
    if (a == b && b == c) {
        cout << "This is an equilateral triangle." << endl;
    } else if (a == b || b == c || a == c) {
        cout << "This is an isosceles triangle." << endl;
    } else {
        cout << "This is a scalene triangle." << endl;
    }
    return 0;
}

```


13.三角形问题边界值分析测试用例
```
(1, 2, 100, 199, 200)
(1, 2, 100, 199, 200)
(1, 2, 100, 199, 200)

(100,100,1)(100,100,2) (100,100,100) (100,100,199) (100,100,200)

(100,1,100)(100,2,100) (100,100,100) (100,199,100) (100,200,100)

(1,100,100)(2,100,100) (100,100,100) (199,100,100) (200,100,100)
```

14.次日问题函数最坏情况测试用例

月份取值
1, 2, 6, 11, 12 (0,1, 2, 6, 11, 12,13)
日期取值
1, 2, 15, 30, 31 (0,1, 2, 15, 30, 31,32)
年取值
1812, 1813, 1912, 2011, 2012 (1811,1812, 1813, 1912, 2011, 2012 ,2013)

```
(0, 0), (0, 1), (0, 2), (0, 15), (0, 30), (0, 31), (0, 32),
 (1, 0), (1, 1), (1, 2), (1, 15), (1, 30), (1, 31), (1, 32),
 (2, 0), (2, 1), (2, 2), (2, 15), (2, 30), (2, 31), (2, 32),
 (6, 0), (6, 1), (6, 2), (6, 15), (6, 30), (6, 31), (6, 32),
 (11, 0), (11, 1), (11, 2), (11, 15), (11, 30), (11, 31), (11, 32),
 (12, 0), (12, 1), (12, 2), (12, 15), (12, 30), (12, 31), (12, 32),
 (13, 0), (13, 1), (13, 2), (13, 15), (13, 30), (13, 31), (13, 32)
```
再求与年的笛卡尔积

15.佣金程序的问题描述 

步枪销售商在亚利桑那州境内销售制造商制造的步枪机、枪托和枪管。
枪机卖45美元，枪托卖30美元，枪管卖25美元。销售商每月至少要售出一枝完整的步枪，生产限额考虑到大多数销售商在一个月内可销售70个枪机、80个枪托和90个枪管。销售商在每访问一个镇子之后，给制造商发出电报，说明在那个镇子中售出的枪机、枪托和枪管数量。到了月末，销售商要发出一封很短的电报，通知－1个枪机被售出，以便制造商知道当月的销售情况
销售商的佣金为：销售额不到（含）1000美元的部分，为10％；1000（不含）到1800（含）美元的部分，为15％；超过1800美元的部分为20％
佣金程序生成月份销售报告，汇总售出的枪机、枪托和枪管总数，销售商的总销售额，以及佣金。佣金问题的输入空间
低于较低平面的值，对应低于1000美元门限的销售额，佣金为10%
两个平面之间的值，是15%佣金区域
高于较高平面的值，对应高于1800美元门限的销售额，超过部分的佣金为20%

寻找输出边界值（销售额）为100美元、1000美元、1800美元和7800美元对应的输入变量组合？

答：
当销售额为100美元时，佣金为10%
输入变量组合：1枝枪机、0枝枪托和0根枪管

当销售额为1000美元时，佣金为15%
输入变量组合：22枝枪机、0枝枪托和0根枪管（共计990美元，接近1000美元门限点）
当销售额为1800美元时，佣金为15%
输入变量组合：55枝枪机、20枝枪托和0根枪管（共计1795美元，接近1800美元门限点）

当销售额为7800美元时，佣金为20%
输入变量组合：70枝枪机、80枝枪托和90根枪管
需要

通过电子表格或编写程序可以自动设计测试用例，节省了大量计算工作
最大值和最小值的确定很容易，给出的数正好便于生成边界点。
比如销售额接近1000美元和1800美元门限点的值。**输出值域的边界值**

写出佣金问题的输出特殊值测试？

答：

```
枪击10 枪托9 枪管9 销售额 1005 佣金 100.75 边界点+
枪击18 枪托17 枪管19  销售额 1795 佣金 219.25边界点-
枪击18 枪托19 枪管17  销售额 1805 佣金 221 边界点+
```

佣金问题的测试用例
关键点测试用例9是1000美元的边界点
枪机卖45美元，枪托卖30美元，枪管卖25美元，均卖10个
调整输入变量则可以得到略低和略高于该边界的值
测试用例6－8
测试用例10－12

测试用例17恰好是1800美元临界值
枪机卖45美元，枪托卖30美元，枪管卖25美元，各卖18个
通过调整输入变量取值，可以构造略低于和略高于该临界值的输出
测试用例14－16
测试用例18－20

16.边界值分析的原则

如果输入条件规定了取值范围，或规定了值的个数，测试用例选择：范围的边界内，刚刚超出范围的边界外的值；或者说：最小值、稍高于最小值、正常值、稍低于最大值、最大值


```
例1：程序的规格说明：“重量在10~50公斤范围内的邮件，其计算邮费……”
测试用例选择：取10公斤，10.01公斤，25公斤，49.99公斤，50公斤
例2：“某输入文件可包含1~255个记录，”
测试用例选择：记录个数取1，2，120，254，255
```


17.一个函数有2个输入，一个是大写A到Z的字母，另一个是在0到100之间的数字（可以取到边界），分别用边界值分析、健壮性测试和最坏情况测试的方法写出测试用例。

边界值分析

```
(A,B,N,Y,Z)
(0,1 50,99,100)
(N,0)(N,1)(N,50)(N,99)(N,100)
(A,50)(B,50)(N,50)(Y,50)(Z,50)

```

健壮性测试:

```
(A,B,N,Y,Z)
(-1,0,1 50,99,100,101)
(N,0)(N,1)(N,50)(N,99)(N,100)
(A,50)(B,50)(N,50)(Y,50)(Z,50)

```

```
(A,B,N,Y,Z)
(0,1 50,99,100)
(A,50)(B,50)(N,50)(Y,50)(Z,50)
(A,50)(B,50)(N,50)(Y,50)(Z,50)
(B,50)(B,50)(N,50)(Y,50)(Z,50)
(C,50)(C,50)(N,50)(Y,50)(Z,50)
....
```

18.等价类测试

等价类的划分有两种不同的情况：
有效等价类（合理等价类）
无效等价类（不合理等价类）
划分等价类的标准：
覆盖
不相交
代表性
- 如果输入条件规定了取值范围，可定义一个有效等价类和两个无效等价类。「学生成绩0～100」有效：60，无效-1，101
- 如果规定了输入数据的个数，则类似地可以划分出一个有效等价类和两个无效等价类「学生只能选修1～3门」『有效：学生只能选修1～3门』『无效：不选。无效：选修超过3门』
- 输入条件规定了输入值的集合，或是规定了“必须如何”的条件，则可确定一个有效等价类和一个无效等价类「标识符以字母开头”」 「有效等价类：以字母开头的字符串」「无效等价类：以非字母开头的字符串」
- 如规定了输入数据的一组值，且程序对不同输入值做不同处理，则每个允许的输入值是一个有效等价类，并有一个无效等价类（所有不允许的输入值的集合）「输入条件说明学历可为：专科、本科、硕士、博士四种之一」「有效等价类：①专科、②本科、③硕士、④博士」「无效等价类：①其它任何学历」
- 如果规定了输入数据必须遵循的规则，可确定一个有效等价类（符合规则）和若干个无效等价类（从不同角度违反规则）「校内电话号码拨外线为9开头」「有效等价类：① 9＋外线号码」「无效等价类：①非9开头＋外线号码 ② 9＋非外线号码，…」
- 如果确知，已划分的等价类中各元素在程序中的处理方式不同，则应将此等价类进一步划分成更小的等价类

```
工资所得税计算：计税额=工资– 1600
有效：
1 		不超过500元的			5%
2 		超过500元至2,000元的部分		10%
3 		超过2,000元至5,000元的部分		15%
4 		超过5,000元至20,000元的部分		20%
5 		超过20 000元至40 000元的部分	25%
6 		超过40,000元至60,000元的部分	30%
7 		超过60,000元至80,000元的部分	35%
8 		超过80,000元至100,000元的部分	40%
9 		过100,000元的部分			45%
无效：a
```

19.设某公司要打印2001～2005年的报表，其中报表日期为6位数字组成，其中，前4位为年份，后两位为月份。

```
        有效            无效
个数：  6位数字          非数字，少于6，多于6
year：  2001~2005    小于2000,大于2005
month: 1~12         小于01 ,大于12
测试数据	期望结果	覆盖范围
200105	输入有效	等价类①②③
测试数据	期望结果	覆盖范围
001MAY	输入无效	等价类④
20015	输入无效	等价类⑤
2001005	输入无效	等价类⑥
200005	输入无效	等价类⑦
200805	输入无效	等价类⑧
200100	输入无效	等价类⑨
200113	输入无效	等价类⑩
```

20.城市的电话号码由两部分组成。这两部分的名称和内容分别是：
地区码：以0开头的三位或者四位数字
电话号码：以非0、非1开头的七位或者八位数字假定被调试的程序能接受一切符合上述规定的电话号码，拒绝所有不符合规定的号码，就可用等价分类法来设计它的测试用例


```
输入数据		
地区码	      
有效等价类
以0开头的3位数串
以0开头的4位数串
无效等价类
以0开头的含非数字字符的3位或4位字符串
以0开头的小于3位的数串
以0开头的大于4位的数串
以非0开头的3位或4位数串


电话号码：
有效等价类
以非0、非1开头的7位数串
以非0、非1开头的8位数串
无效等价类
以0开头的7位或8位数串
以1开头的7位或8位数串
以非0、非1开头的含非数字字符的7位或8位字符串
以非0、非1开头的小于7位数串
以非0、非1开头的大于8位数串

```
```
测试数据	期望结果	覆盖范围
010  23145678	显示有效输入	（1）、（8）
023   2234567	显示有效输入	（1）、（7）
0851  3456789	显示有效输入	（2）、（7）
0851  23145678	显示有效输入	（2）、（8）
```

21.三角形问题接受三个整数A、B和C作为输入，将其用作三角形三条边的长度值，程序的输出是由这三条边确定的三角形的类型：等边三角形、等腰三角形、不等边三角形或非三角形。

我们可以设三角形的3条边分别为A，B，C
如果它们能够构成三角形的3条边，必须满足：A>0，B>0，C>0，且A+B>C，B+C>A，A+C>B
如果是等腰的，还要判断A=B，或B=C，或A=C
如果是等边的，则需判断是否A=B，且B=C，且A=C

22.“三角形问题接受三个整数A、B和C作为输入，将其用作三角形三条边的长度值，程序的输出是由这三条边确定的三角形的类型：等边三角形、等腰三角形、不等边三角形或非三角形。”

我们可以设三角形的3条边分别为A，B，C
如果它们能够构成三角形的3条边，必须满足：A>0，B>0，C>0，且A+B>C，B+C>A，A+C>B
如果是等腰的，还要判断A=B，或B=C，或A=C
如果是等边的，则需判断是否A=B，且B=C，且A=C


```
是否是三角形的三条边
有效：
A>0
B>0
C>0
A+B>C
A+C>B
B+C>A

无效：
A<=0
B<=0
C<=0
A+B<=C
A+C<=B
B+C<=A

是否是等腰三角形
有效：
A=B
B=C
A=C

无效：
A!=B And B!=C And C!=A

是否是等边三角形
有效：
A=B and B=C and C=A

无效：
A!=B
B!=C
C!=A
```

23.等价类测试的分类

- 弱一般等价类测试:弱一般等价类测试通过使用一个测试用例中的每个等价类（区间）的一个变量实现.
- 一个变量个数为n的函数的弱一般等价类测试会产生多少个测试用例？
区间个数的最大值

- 强一般等价类测试
- 一个变量个数为n的函数的强一般等价类测试会产生多少个测试用例？各个输入变量区间数的乘积


- 弱健壮等价类测试

- 强健壮等价类测试

24.一个具有两个自变量X1和X2的函数F，F实现位一个程序，且，输入变量X1和X2的边界以及边界内的区间
a<= x1 <= d 且程序对X1取「a,b）「b,c」「c,d」 做出不同的处理
e <=X2 <=g 区间为「e,f」「f,g」

25.三角形问题的输出（值域）等价类
```
4种可能出现的输出
不是三角形、非等边三角形、等腰三角形和等边三角形
输出（值域）等价类：
R1={<a，b，c>：有三条边a、b和c的等边三角形}
R2={<a，b，c>：有三条边a、b和c的等腰三角形}
R3={<a，b，c>：有三条边a、b和c的不等边三角形}
R4={<a，b，c>：三条边a、b和c不构成三角形}
```

26.弱一般等价类测试/弱健壮性测试

```
弱一般等价类测试

测试用例 a b c 预期输出
WN1    5   5   5 等边
WN2    2   2   3 等腰
WN3    3   4   5 不等边
WN4    4   1   2 非三角
```

```
弱健壮性测试

测试用例 a b c   预期输出
WN1    -5   5   a取值在不允许的取值值域内
WN2    2   2   3 等腰
WN3    3   4   5 不等边
WN4    4   1   2 非三角
```

