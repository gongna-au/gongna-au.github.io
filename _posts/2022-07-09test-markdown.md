---
layout: post

title: 什么是 Sidecar 模式，为什么它在微服务中被大量使用？

subtitle: Sidecar 模式是一种架构模式，其中位于同一个主机的两个或者多个进程可以相互通信。他们是环回本地主机，本质是 启动进程间通讯。

tags: [books, test]

---

# 什么是 Sidecar 模式，为什么它在微服务中被大量使用？

## 1.什么是 Sidecar 模式

Sidecar 模式是一种架构模式，其中位于同一个主机的两个或者多个进程可以相互通信。他们是环回本地主机，本质是 **启动进程间通讯**。

#### How We Do Traditionally ?

假设现有一个传统的`golang`应用，我们在其中导入一些重要的 `golang`包，然后这个程序做为一个。`exe` 运行在本地主机上 `localhost` 在这种情况下我有一个很不错的 `golang`库，我花了很多时间在这个库上，它是一个高级的库，可以进行日志记录和对话。因为我是用 `golang`写的库，所以我的应用程序也是 `golang`写的。我需要做的就是，使用这个库，调用函数。

```
-----------------------------------------
| 										|
|				------------------	    |
|				| 		|------- |      |
| 				|       |Library |      |
| 				|       |------- |      |
| 				|app		     |		|
| 			    -----------------		|
|										|
|										|
----------------------------------------

```

如果是Sidecar pattern  ,那么我需要做的就是拆封我的日记记录库

```
log(localhost:8080)
```

```
golang.log(localhost:8080)
```

也就是说，我们所做的，不是引用或者导入而是向端口的本地主机发出请求。任务本质上没有离开哪个那个主机。它会通过网络堆栈。当我们开始运行程序时，就会返回调用我们写的库。

- **让两个进程生活在同一台机器上，然后他们直接通信**
- 这个时候，我们的库可以被其他任何语言使用。
- **公开给其他任何语言use**



